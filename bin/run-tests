#!/bin/bash

# Exit and return error if script fails
set -e

# Magic line to ensure that we're always inside the root of our application,
# no matter from which directory we'll run script
# thanks to it we can just enter `./bin/run-tests`
cd "${0%/*}/.."

# Run tests
echo "----- Running eslint on updated code -----"
bin/check_code
bin/todo_list

echo "----- Running Jest tests on diffs -----"
jest --coverage --changedSince=master
